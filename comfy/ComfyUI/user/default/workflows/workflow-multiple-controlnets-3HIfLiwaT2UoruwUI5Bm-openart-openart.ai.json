{"id":"5f773d75-6bb8-4fc4-af75-30f48ed37c0c","revision":0,"last_node_id":29,"last_link_id":57,"nodes":[{"id":9,"type":"SaveImage","pos":[1980,260],"size":[410,460],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":9}],"outputs":[],"properties":{},"widgets_values":["Result"]},{"id":8,"type":"VAEDecode","pos":[1800,260],"size":[140,60],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":7},{"localized_name":"vae","name":"vae","type":"VAE","link":12}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[9]}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":22,"type":"Note","pos":[950,270],"size":[282.9400634765625,219.14120483398438],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{"text":""},"widgets_values":["MULTIPLE CONTROLNET\n===================\n\nOf course it's possible to use multiple controlnets.\n\nIn this example I'm chaining a Depth CN to give the base shape and a Tile controlnet to get back some of the original colors.\n\nIt's important to play with the strength of both CN to reach the desired result."],"color":"#432","bgcolor":"#653"},{"id":5,"type":"EmptyLatentImage","pos":[1170,60],"size":[220,106],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[2,41]}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[496,640,4]},{"id":11,"type":"VAELoader","pos":[1460,530],"size":[300,60],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"localized_name":"VAE","name":"VAE","shape":3,"type":"VAE","slot_index":0,"links":[12]}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["sdxl_vae.safetensors"]},{"id":14,"type":"ControlNetLoader","pos":[440.90106201171875,545.0545654296875],"size":[270,60],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"localized_name":"CONTROL_NET","name":"CONTROL_NET","shape":3,"type":"CONTROL_NET","slot_index":0,"links":[]}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["controlnet_sdxl_union_promax.safetensors"]},{"id":7,"type":"CLIPTextEncode","pos":[495.4014892578125,300.00439453125],"size":[370,160],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":5}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[45]}],"title":"CLIP Text Encode (Negative)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["blurry, illustration, distorted, horror"],"color":"#322","bgcolor":"#533"},{"id":3,"type":"KSampler","pos":[1460,200],"size":[300,262],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":1},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":54},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":50},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":2}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[7]}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[21,"fixed",4,1,"ddim","normal",1]},{"id":28,"type":"LoadImage","pos":[-226.44056701660156,86.3634262084961],"size":[210,314],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","shape":3,"type":"IMAGE","slot_index":0,"links":[49]},{"localized_name":"MASK","name":"MASK","shape":3,"type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["preprocessed_pose.png","image",""]},{"id":24,"type":"ControlNetLoader","pos":[697.6707763671875,769.792724609375],"size":[315,58],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"localized_name":"CONTROL_NET","name":"CONTROL_NET","shape":3,"type":"CONTROL_NET","links":[35]}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["controlnet_sdxl_union_promax.safetensors"]},{"id":6,"type":"CLIPTextEncode","pos":[460,70],"size":[370,160],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":3}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[44]}],"title":"CLIP Text Encode (Positive)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["a girl wearing white dress jumping"],"color":"#232","bgcolor":"#353"},{"id":27,"type":"ACN_ReferenceControlNet","pos":[-303.5262145996094,842.7736206054688],"size":[315,106],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"localized_name":"CONTROL_NET","name":"CONTROL_NET","type":"CONTROL_NET","links":[46]}],"properties":{"Node name for S&R":"ACN_ReferenceControlNet"},"widgets_values":["reference_attn",0.9000000000000001,1]},{"id":26,"type":"ACN_AdvancedControlNetApply_v2","pos":[310.348388671875,701.9225463867188],"size":[285.6000061035156,266],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":44},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":45},{"localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":46},{"localized_name":"image","name":"image","type":"IMAGE","link":56},{"localized_name":"mask_optional","name":"mask_optional","shape":7,"type":"MASK","link":null},{"localized_name":"timestep_kf","name":"timestep_kf","shape":7,"type":"TIMESTEP_KEYFRAME","link":null},{"localized_name":"latent_kf_override","name":"latent_kf_override","shape":7,"type":"LATENT_KEYFRAME","link":null},{"localized_name":"weights_override","name":"weights_override","shape":7,"type":"CONTROL_NET_WEIGHTS","link":null},{"localized_name":"vae_optional","name":"vae_optional","shape":7,"type":"VAE","link":57}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[48]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[50]}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply_v2"},"widgets_values":[1,0,1]},{"id":23,"type":"ControlNetApply","pos":[1148.2255859375,590.81494140625],"size":[211.60000610351562,100],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":48},{"localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":35},{"localized_name":"image","name":"image","type":"IMAGE","link":49}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","shape":3,"type":"CONDITIONING","slot_index":0,"links":[54]}],"properties":{"Node name for S&R":"ControlNetApply"},"widgets_values":[1.0000000000000002]},{"id":12,"type":"LoadImage","pos":[-509.0972595214844,335.3204040527344],"size":[210,314],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","shape":3,"type":"IMAGE","slot_index":0,"links":[39]},{"localized_name":"MASK","name":"MASK","shape":3,"type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["preprocessed_portrait.png","image",""]},{"id":25,"type":"ACN_ReferencePreprocessor","pos":[-155.98574829101562,659.837646484375],"size":[315,66],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":39},{"localized_name":"vae","name":"vae","type":"VAE","link":40},{"localized_name":"latent_size","name":"latent_size","type":"LATENT","link":41}],"outputs":[{"localized_name":"proc_IMAGE","name":"proc_IMAGE","type":"IMAGE","links":[56]}],"properties":{"Node name for S&R":"ACN_ReferencePreprocessor"},"widgets_values":[]},{"id":4,"type":"CheckpointLoaderSimple","pos":[18.215810775756836,275.252197265625],"size":[340,100],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[1]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[3,5]},{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[40,57]}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["AtomicXL.safetensors"]}],"links":[[1,4,0,3,0,"MODEL"],[2,5,0,3,3,"LATENT"],[3,4,1,6,0,"CLIP"],[5,4,1,7,0,"CLIP"],[7,3,0,8,0,"LATENT"],[9,8,0,9,0,"IMAGE"],[12,11,0,8,1,"VAE"],[35,24,0,23,1,"CONTROL_NET"],[39,12,0,25,0,"IMAGE"],[40,4,2,25,1,"VAE"],[41,5,0,25,2,"LATENT"],[44,6,0,26,0,"CONDITIONING"],[45,7,0,26,1,"CONDITIONING"],[46,27,0,26,2,"CONTROL_NET"],[48,26,0,23,0,"CONDITIONING"],[49,28,0,23,2,"IMAGE"],[50,26,1,3,2,"CONDITIONING"],[54,23,0,3,1,"CONDITIONING"],[56,25,0,26,3,"IMAGE"],[57,4,2,26,8,"VAE"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.672749994932563,"offset":[501.7516346320074,-16.53317259363621]}},"version":0.4}